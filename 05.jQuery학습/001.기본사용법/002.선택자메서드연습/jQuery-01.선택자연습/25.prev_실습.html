<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Traversal- prev</title>

        <!-- 제이쿼리 라이브러리 -->
        <script src="./js/jquery-3.6.1.min.js"></script>
        <!-- 제이쿼리 UI : 컬러애니메이션 등 필요! -->
        <script src="./js/jquery-ui.min.js"></script>
        <script>
            $(() => {
                /* 
              prev() - 선택요소의 이전형제요소 선택
              prevAll() - 선택요소의 이전형제요소들 전부선택
            */
                // 미션: 마지막 p태그를 클릭하면 0.5초 간격으로
                //  이전 형제요소의 배경색을 차례로 넣으시오.(p태그만!)

                // first(), last()는 맨앞과 뒤를 선택하는 메서드
                $("#container")
                    .children("p") // 직계p요소들
                    .last() // 마지막 p요소
                    .click(function () {
                        $(this) // 클릭된 p요소
                            .animate(
                                {
                                    backgroundColor: "red",
                                },
                                500
                            )
                            .prev() // 앞에 있는 p형제요소
                            .delay(1000) // 1초기다림
                            .animate(
                                {
                                    backgroundColor: "yellow",
                                },
                                500
                            )
                            .prev() // 앞에 있는 p형제요소
                            .delay(2000) // 2초기다림
                            .animate(
                                {
                                    backgroundColor: "lime",
                                },
                                500
                            )
                            .prev() // 앞에 있는 div형제요소
                            .find("p") // 자식요소 p
                            .delay(3000) // 3초기다림
                            .animate(
                                {
                                    backgroundColor: "green",
                                },
                                500
                            );
                    }); ////// click /////////

                // 추가미션:
                // .sub 아래 마지막 p태그를 클릭하면
                // 이전 p태그 모두를 배경색 yellow, 
                // 가로,세로 크기 100px로 원으로 변경
                // 애니메이션 하시오!
                // prevAll() 사용!
                $(".sub").find("p").last()
                .click(function(){
                  $(this) // 마지막 p요소
                  .prevAll() // 이전 형제p 모두
                  .animate({
                    backgroundColor:"yellow",
                    width: "100px",
                    height: "100px",
                    borderRadius:"50%"
                  },1000); ///// animate /////
                })

                // animate({CSS설정},시간,이징,함수)

            }); ////////// jQB /////////////
        </script>

        <style>
            div,
            p {
                float: left;
                margin: 10px;
                background-color: #fff;
            }
            div#sub {
                width: 80px;
                height: 80px;
                border: #000 thin solid;
            }
            p {
                width: 50px;
                height: 50px;
                border: #000 thin solid;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <div id="sub">
                <p>div p</p>
            </div>
            <p id="part1">p</p>
            <p>p</p>
            <p>p:나를클릭해!</p>
        </div>

        <div class="sub">
            <p>p</p>
            <p>p</p>
            <p>p</p>
            <p>p</p>
            <p>p:나도클릭!</p>
        </div>

        <!---------- jQuery code Start ---------->
        <script></script>
    </body>
</html>
