<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS9-4.로컬 스토리지</title>
    <style>
        html,body{
            margin: 0;
            padding: 0;
        }
        .tit{
            max-width: 1000px;
            height: 25vh;
            margin: 0 auto;
            background: url(https://www.crowdnet.or.kr/files/recu/06/20220720153040030_06_47087_20220725_1869.PNG) center 25%/50%;
        }
        .wrap{
            max-width: 1000px;
            min-height: 100vh;
            display: flex;
            margin: 0 auto;
        }
        .wrap>div{
            flex: 1;
            box-sizing: border-box;
            border: 4px double darkblue;
            text-align: center;
        }
        .imgbx{
            max-width: 235px;
            aspect-ratio: 235/381;
            margin: 0 auto;
        }
        .imgbx img{
            object-fit: cover;
            width: 100%;
            height: 100%;
            object-position: left;
        }
        .imgbx.ib2 img{
            object-position: right;
        }
    </style>
    <script>
        const qs = x => document.querySelector(x);

        window.addEventListener("DOMContentLoaded",()=>{

            qs(".sbtn").onclick = e=>{
                
            }
            
            
        })
        
        function process(){
            let obj = [{id:"100",cont:"나는나야!"}];
            localStorage.setItem('minfo',JSON.stringify(obj));
    
            console.log(localStorage.length);
        }
        
        function show(ele){
            let newobj = localStorage.getItem("minfo");
            // let newobj = localStorage.key(1);
            newobj = JSON.parse(newobj);
            
            console.log(newobj);

            qs(ele+" .nm").innerText = newobj[0].id;
            qs(ele+" .role").innerText = newobj[0].cont;
        }
        function add(){
            
            let obj = [{id:"400",cont:"호구!호구!"}];
            let temp = localStorage.getItem("minfo");

            // let temp = localStorage.key(1);
            // 객체로 전환!
            temp = JSON.parse(temp);

            // 배열객체로 추가!
            temp.push(obj);


            // 문자로 변환후 다시 같은 로컬스토리지에 저장함!!
            localStorage.setItem('minfo',JSON.stringify(temp));
    
            
            console.log(temp);

        }
    </script>
</head>
<body>
    <div class="tit"></div>
    <div class="wrap">
        <div class="local">
            <h2>로칼쓰님</h2>
            <div class="imgbx">
                <img src="https://img.marieclairekorea.com/2022/08/mck_62e9fd08ca1bd.jpg" alt="이정재">
            </div>
            <ol>
                <li>
                    당신의 이름은? : <span class="nm"></span>
                </li>
                <li>
                    영화속 역할은? : <span class="role"></span>
                </li>
            </ol>

            <button onclick="process()">처리</button>
            <button onclick="show('.local')">보여</button>
            <button onclick="add()">추가</button>

            <div class="inbx">
                <form action="" method="post">
                <ul>
                    <li>
                        <label for="idx">일련번호</label>
                        <input type="text" id="idx">
                    </li>
                    <li>
                        <label for="cont">내용</label>
                        <input type="text" id="cont">
                    </li>
                    <li>
                        <input type="submit" value="처리" id="sbtn">
                    </li>
                </ul></form>
            </div>

        </div>
        <div class="session">
            <h2>세션쓰님</h2>
            <div class="imgbx ib2">
                <img src="https://img.marieclairekorea.com/2022/08/mck_62e9fd08ca1bd.jpg" alt="정우성">
            </div>
            <ol>
                <li>
                    당신의 이름은? : <span class="nm"></span>
                </li>
            </ol>

        </div>
    </div>
</body>
</html>