<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            height: 100vh;
            background: url(http://www.kukinews.com/data/kuk/image/2022/08/29/kuk202208290038.jpg) center top/auto 100%;
        }
        .tg{
            position: relative;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background-color: #f00;
            background: url(https://img3.daumcdn.net/thumb/R658x0.q70/?fname=https://t1.daumcdn.net/news/202107/08/JTBC/20210708153002482ktbd.jpg) no-repeat center top/cover;
        }
    </style>
    <script>
        const qs = x => document.querySelector(x);
        const qsa = x => document.querySelectorAll(x);
        const cg = x => console.log(x);


        window.addEventListener("DOMContentLoaded",()=>{
            const tg = qs(".tg");
            let drag = false;
            let fx,vx,fy,vy,lastXVal=0,resX,lastYVal=0,resY;

            const dTrue = () => drag = true;
            const dFalse = () => drag = false;
            const test = () => {fx = event.pageX;fy = event.pageY;}
            const test2 = () => {lastXVal += resX;lastYVal += resY;}
            const mMove = (e) => {
                if(drag){ 
                    vx = e.pageX;
                    resX = vx - fx;
                    cg(`드래그중-x:${resX}/${lastXVal}`);

                    tg.style.left=(resX+lastXVal)+"px";

                    vy = e.pageY;
                    resY = vy - fy;
                    cg(`드래그중-x:${resY}/${lastYVal}`);

                    tg.style.top=(resY+lastYVal)+"px";


                }

            }; //////// mMove 함수 ////////

            tg.addEventListener("mousedown",()=>{dTrue();test();});
            tg.addEventListener("mouseup",()=>{dFalse();test2();});
            tg.addEventListener("mouseleave",()=>{dFalse();});

            tg.addEventListener("mousemove",mMove);
        })
    </script>
</head>
<body>
    <div class="tg"></div>
    
</body>
</html>