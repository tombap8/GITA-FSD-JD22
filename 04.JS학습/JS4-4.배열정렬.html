<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            .showNum img {
                height: 100px;
            }
        </style>
        <script>

            /* 
            https://developer-talk.tistory.com/73
            
                [ JS 배열의 정렬 : sort() 메서드 ]
                -> 용어정의: 정렬이란? 배열의 값을 기준으로 순서를 다시 정하는것!
                배열의 요소 정렬은 sort() 메서드 사용
                sort() 메서드를 사용하여 배열값을 오름차순 또는 내림차순으로 정렬할 수 있음!

                [ sort() 메서드 특징]

                1. 기본정렬: 오름차순(1,2,3,.../a,b,c,...)
                2. 원리: 배열값을 문자열로 캐스팅후 변환된 문자열을 비교하여 순서를 결정
                3. 배열값이 undefined인 경우: 문자열로 변환불가(배열맨끝정렬)

                [ sort() 메서드 비교함수 ]
                -> sort() 메서드 내부에 2개의 전달값을 가지는 함수를 쓰면
                sort메서드 자체에서 값을 비교하여 배열값의 순서를 바꾼다!

                -> 기준정렬 : 오름차순
                sort(function(x,y){
                    if(x>y) return 1;
                    if(x<y) return -1;
                    return 0;
                })

                -> 리턴값의 의미
                1) if(x>y) return 1; -> x가 y뒤에 옴 (리턴값이 양수)
                2) if(x<y) return -1; -> x가 y앞에 옴 (리턴값이 음수)
                3) return 0; -> x,y정렬을 유지 (리턴값이 0)

                -> 단순형
                


                -> 배열값이 단순히 숫자이기만 하면 빼긴 연산만써도 정렬됨

                sort(function(x,y){
                    return a - b;
                })


            */
            const org_num = [4, 5, 8, 10, 2, 1, 9, 3, 7, 6];
            const org_num2 = ["파", "타", "하", "가", "바", "사", "다", "라", "차"];

            window.addEventListener("DOMContentLoaded", () => {
                const newArray = (obj) => {
                    let temp = obj.map((x) => `<img src="./images/num/num_0${x}.png" alt="Number">`);
                    document.querySelector(".showNum").innerHTML = temp.join("");
                };
                const newArray2 = (obj) => {
                    let temp = obj.map((x) => `<span style="font-size:34px;display:inline-block;margin:0 10px">${x}</span>`);
                    document.querySelector(".showNum2").innerHTML = temp.join("");
                };

                newArray(org_num);
                newArray2(org_num2);

                document.querySelector(".sel").onchange = () => {
                    let opt = event.currentTarget.value;
                    if (opt == 1) {
                        console.log(
                            newArray(
                                // org_num.sort(function (a, b) {
                                //     if (a > b) return 1;
                                //     if (a === b) return 0;
                                //     if (a < b) return -1;
                                // })
                                org_num.sort(function (a, b) {
                                    return a - b;
                                })
                            )
                        );
                    } else if (opt == 2) {
                        console.log(
                            newArray(
                                org_num.sort(function (a, b) {
                                    return b - a;
                                })
                            )
                        );
                    }
                };

                document.querySelector(".sel2").onchange = () => {
                    let opt = event.currentTarget.value;
                    if (opt == 1) {
                        console.log(
                            newArray2(
                                org_num2.sort(function (x, y) {
                                    if (x > y) return 1;
                                    if (x === y) return 0;
                                    if (x < y) return -1;
                                })
                                // org_num2.sort(function (a, b) {
                                //     return a - b;
                                // })
                            )
                        );
                    } else if (opt == 2) {
                        console.log(
                            newArray2(
                                org_num2.sort(function (x, y) {
                                    if (x < y) return 1;
                                    if (x === y) return 0;
                                    if (x > y) return -1;
                                })
                            )
                        );
                    }
                };

                const list1 = [
                    {
                        idx: "1",
                        tit: "나야나",
                        cont: "ㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱ",
                    },
                    {
                        idx: "4",
                        tit: "여기는 어디?",
                        cont: "ㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇ",
                    },
                    {
                        idx: "8",
                        tit: "나는 구누?",
                        cont: "ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ",
                    },
                ]; /////////////// list1 /////////////

                const htc = list1.map(
                    (v) => `
                        <tr>
                            <td>
                                ${v.idx}
                            </td>
                            <td>
                                ${v.tit}
                            </td>
                            <td>
                                ${v.cont}
                            </td>
                        </tr>
                    `
                    );
                    document.querySelector(".showList1 table").innerHTML = htc.join("");


                    document.querySelector("#sel3").onchange = e => {
                        let opt = e.target.value;
                        let cta = document.querySelector(".cta").value;
                        console.log(opt,cta);
                        if(opt==1){
                            list1.sort(function (x, y) {
                                if (x[cta] < y[cta]) return 1;
                                if (x[cta] === y[cta]) return 0;
                                if (x[cta] > y[cta]) return -1;
                            })
                            

                        }///// if /////
                        else if(opt==2){
                            list1.sort(function (x, y) {
                                if (x[cta] > y[cta]) return 1;
                                if (x[cta] === y[cta]) return 0;
                                if (x[cta] < y[cta]) return -1;
                            })
                        }
                            
                            const htc = list1.map(
                            (v) => `
                                <tr>
                                    <td>
                                        ${v.idx}
                                    </td>
                                    <td>
                                        ${v.tit}
                                    </td>
                                    <td>
                                        ${v.cont}
                                    </td>
                                </tr>
                            `
                            );
                            console.log(list1);
                            document.querySelector(".showList1 table").innerHTML = 
                            htc.join("");




                    }; //////////////// onchange ///////////////////



                });



        </script>
    </head>
    <body>
        <select name="sel" id="sel" class="sel">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>
        <div class="showNum"></div>

        <select name="sel2" id="sel2" class="sel2">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>
        <div class="showNum2"></div>

        <select name="cta" id="cta" class="cta">
            <option value="idx">idx</option>
            <option value="tit">tit</option>
            <option value="cont">cont</option>
        </select>
        <select name="sel3" id="sel3" class="sel3">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>
        <div class="showList1">
            <table></table>
        </div>
    </body>
</html>
