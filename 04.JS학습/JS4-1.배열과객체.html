<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS4-1. 배열변수와 객체</title>
    <style>
        h1 {
            text-align: center;
        }

        /* 정보출력박스 */
        .cont {
            width: 1000px;
            height: 80px;
            border: 2px solid #000;
            text-align: center;
            white-space: nowrap;
            line-height: 84px;
            margin: 5px auto;
            font-size: 24px;
        }
    </style>
    <script>
        /********************************************** 
            함수명: loadFn
            기능: 로딩후 실행함수
        **********************************************/
        // 상수 const로 선언하여 익명함수를 할당해서 함수를 생성
        const loadFn = () => {

            // 1. 함수호출확인
            console.log("로딩완료!");

            // 2. 출력대상 : .cont
            const tg = document.querySelectorAll(".cont");
            // console.log(tg);

            // 3. 내용출력하기 : 배열과 객체를 활용!

            /*********************************************** 
                [ 배열(Array) 변수란? ]
                - 여러개의 데이터를 묶음으로 변수하나에 저장함
                - 각 데이터를 하나의 이름으로 구분하여 호출할
                수 있는 메모리공간
                (예컨데 묶음은 계란한판, 아파트 각 동 등)

                - 배열의 선언
                1. new Array()
                - new 키워드
                객체를 실제로 메모리안에 생성하는 방법
                이를 인스턴스(instance)라고 함!

                - 객체란 속성과 메서드를 가지고 있는 프로그램 단위체
                - 객체는 독립된 특성을 가지고 있어야함!
                예컨데 자동차, 볼펜, 물통, 가방 등
                독립된 별도의 기능이 있어야 하고 명사적특징과
                동사적특징이 모두 있어야 객체다!

            ***********************************************/

            // 배열의 선언과 할당
            const arr1 = new Array(
                "1993년 10월 12일",
                "183cm",
                "65kg",
                "너도 인간이니?, 치인트",
                4567,
                "서강준"
            );
            // 원래 배열형을 만들때는 대괄호를 할당하는 것이
            // 일반적인 방법이며 추천되는 방식이다!
            // const 변수 = [];

            // new 키워드로 선언과 할당을 동시에 할 수 있다!
            // 소괄호안에 콤마로 구분하여 값을 할당할 수 있다!

            // 배열변수에 할당한 데이터 불러오기
            // 호출방법: 배열변수명[순번] -> 순번은 0부터

            // 출력대상: 첫번째 박스 tg[0]
            tg[0].innerHTML = `
                이름: ${arr1[5]} / 
                키: ${arr1[1]} / 
                몸무게: ${arr1[2]} / 
                대표작: ${arr1[3]}
            `;

            // 2. 배열의 선언과 할당의 다른방식!(추천방식)
            // 배열변수명 = [값1,값2,...]
            // 이 방식이 보편적인 방식임!
            // new Array() 라고 객체를 생성하지 않아도 자동생성됨!
            // 이런객체를 정적객체(Static Object)
            const arr2 = [
                "삼일절",
                "태극기",
                1919,
                function(){
                    alert("대한독립만세!!!");
                }
            ];
            

            // function(){} 익명함수 - 이름없는함수
            // -> 배열값으로 문자,숫자,배열,객체,함수 등 넣을 수 있음

            // 배열확인하기
            console.log("arr2배열:",arr2);

            // 출력대상: tg[1]
            // 출력할 문자: 삼일절은 1919년에 일제에 항거하여 태극기를 들고 일어난 민중봉기를 기념하는 날이다

            tg[1].innerHTML = `
                ${arr2[0]}은 ${arr2[2]}년에 
                일제에 항거하여 ${arr2[1]}를 들고 
                일어난 민중봉기를 기념하는 날이다
            `;


            // 두번째 텍스트박스에 오버시 툴팁띄우기
            tg[1].title = 
            "만세를 하시려면 클릭하세요!";
            
            // 손가락모양
            tg[1].style.cursor = "pointer";
            
            // 배열의 함수값 클릭시 실행셋팅
            tg[1].onclick = arr2[3];
            // 클릭이벤트속성에 익명함수가 할당됨!

            // 3. 배열을 미리 생성하여 각각 할당하는 방법
            // 배열변수명 = [] -> 이 변수가 배열변수로 설정됨!
            // 배열변수명.length = 숫자 -> 숫자만큼 배열이 생성
            // 배열변수명.length 는 배열개수도 읽고 설정도 함!

            const arr3 = [];
            // const로 선언했으므로 배열형식을 바꿀 수 없다!
            // 그.러.나... 배열값을 변경할 수 있다!
            arr3.length = 8;
            // (실제로 중요하지는 않다!)
            console.log("arr3배열변수:",arr3);
            
            // 각 배열주소에 값을 할당함!
            arr3[0] = "산";
            arr3[1] = "할아버지";
            arr3[2] = "구름모자";
            arr3[3] = "썻네~!";
            arr3[4] = "나비같이";
            arr3[5] = "훨훨";
            arr3[6] = "훠얼훨";
            arr3[7] = "날아서~!";            

            // 배열값 전체 찍기: valueOf()
            // -> 배열값 전체를 콤마로 구분하여 출력함
            console.log("arr3 배열전체값:",arr3.valueOf());
            // 참고로 변수만 찍어도 브라우저가 valueOf()를 찍어줌!^^

            // 변수 전체 찍기에서 사이에 구분자 변경하기
            // join(구분자) -> 구분자는 특수문자 등 구분하는 문자
            console.log("arr3 배열 구분자로 문자찍기:",
            arr3.join("^"));           
            // join()은 구분자를 넣은 문자데이터다!!!

            // 배열값 뒤에 동적으로 배열값 추가하기!
            // push(값) -> 배열 맨뒤에 값을 추가
            arr3.push("김창완작사");

            // 배열사이에 별(★)을 넣어서 출력할 것!
            // 화면출력대상: tg[2]
            tg[2].innerHTML = arr3.join("★");

            // -> 배열메서드는 별도로 훈련함!!^^
            

            /******************************************** 
                [ 객체(Object) 란? ]

                - 일반적으로 JS에서 객체란 속성과 메서드를
                가지는 프로그램 단위체
                - 속성은 명사적 특징, 메서드는 동사적 특징
                객체예)
                https://www.w3schools.com/js/js_objects.asp
                - 자동차의 명사적특징: 핸들, 백미러, 트렁크, 바퀴 등
                - 자동차의 동사적특징: 운전하다, 멈추다, 주차하다 등

                (참고: 브라우저에 이미 만들어져 있는 객체들)
                -> 내장객체라고함!
                -> 브라우저 내장객체-> 봄(BOM:Browser Object Model)
                -> https://www.w3schools.com/js/js_window.asp

                window : 윈도우(브라우저화면) 표시 관련객체
                document : 문서구조에 관련된 객체
                Array : 배열객체
                Object : 객체를 만들기 위한 객체
                Date : 날짜객체
                Math : 수학객체
                ___________________________________

                ->>> 내장객체 중 객체를 만들기위한 객체인 Object를
                사용하여 객체를 만들어보자!

                [ 객체의 선언 ]
                - new Object()

                [ 객체의 할당 ]
                - 중괄호{}를 사용하여 할당코딩을 함
                - {속성명:값,속성명:값,...}
                - 여러값을 셋팅할때 콤마로 구분한다
                - 배열과 비교해서 이해하기 쉽고 호출하기 쉽다!
                - 객체 스타일로 데이터 구조를 만들고
                이런 파일로 DB와 데이터 통신을 한다!
                이 파일의 이름은? 제이슨(JSON:확장자.json)

                [ 객체의 호출 ]
                - 객체명[속성명]
                또는
                - 객체명.속성명

            ********************************************/

            // 객체를 선언하여 생성해 보자!
            // 기본 객체 셋팅 추천방식은 중괄호를 할당하는 방법임!
            const SSG = new Object({
                "너의 이름은?":"손석구",
                "생일":"1983년 2월 7일",
                "출생지":"대전광역시 유성구 전민동",
                "키":"178cm",
                "몸무게":"80kg",
                "혈액형":"C형",
                "성별":"남성",
                "대표작":"나의 해방일지, 범죄도시2",
                "소속사":"셋별당엔터",
                "비밀번호":7777,
                "팬레터": function(){
                    // 1. 메시지 띄우기
                    alert("상남자 오빠! 지금뭐해?");
                    // 2. 배경이미지 넣기
                    tg[3].style.background = 
                    "url(https://file.mk.co.kr/meet/neds/2022/05/image_readtop_2022_456627_16533579475052374.jpeg) repeat-x top/auto 100%";
                    // 3. 글자색
                    tg[3].style.color = "#fff";
                    // 4. 글자그림자
                    tg[3].style.textShadow = "0 0 5px #000";
                    // 5. 글자내용변경
                    tg[3].innerText = "손석구 최고 멋쨍이! 승승장구! 화이팅!!!";
                    // 6. 줄간격
                    tg[3].style.lineHeight = "84px";
                    // 7. 박스크게하기
                    tg[3].style.transform = "scale(1.2)";
                    // 8. 트랜지션
                    tg[3].style.transition = "1s ease-out 1s";
                }
            });
            // 객체 출력하기 : 대상 - tg[3]
            tg[3].innerHTML = `
                당신이 좋아하는 남자배우는?
                ${SSG["너의 이름은?"]}
                / 몸무게를 아세요?
                ${SSG["몸무게"]} <br>
                생년월일은?
                ${SSG["생일"]} 
                / 대표작은? ${SSG["대표작"]}
            `;

            // 2줄이니까 줄간격 변경
            tg[3].style.lineHeight = "40px";
            

            // 객체에 셋팅된 함수를 보통 "메서드"라고 부른다!
            // 이 메서드를 호출해 보자!
            tg[3].onclick = SSG["팬레터"];            

            // title 속성 넣기
            tg[3].title = `여기를 클릭하여 ${SSG["너의 이름은?"]}팬레터를 확인하세요!`;            

            // 손가락 표시
            tg[3].style.cursor = "pointer";
            

            /*************************************** 
                [ new 키워드 없이 바로 객체 생성하기 ] -> 추천방식!

                - 방법: 변수 선언 후 이퀄 뒤에 바로 중괄호 사용!
                예) let obj = {속성명:값,속성명:값,...};

                [ 객체의 속성 셋팅시 문자형 또는 변수형 사용하기 ]
                
                1. 문자형 속성 - 따옴표로 싸는 방법

                예) let obj = {"나는나":"호호호","너는너":"하하하"}
                -> 문자형 속성의 객체 호출시
                객체명[문자형속성명]
                예) obj["나는나"]

                2. 변수형 속성 - 따옴표로 안싸는 방법
                예) let obj = {name:"김수현",tall:"186cm"};
                -> 변수형 속성의 객체 호출시
                객체명.속성명
                예) obj.name

                또는

                객체명["속성명"]
                예) obj["name"]
                -> 반드시 변수형 속성명을 따옴표로 싸서
                문자형으로 표시해야함!
                obj[name] -> 에러남!

            ***************************************/

            // 객체 생성하기
            const GU = {
                name:"공유",
                tall:"184cm",
                weight:"74kg",
                com:"매니지먼트숲",
                work:"도깨비,부산행",
                msg: (txt)=>{ // txt 전달변수
                    // 1. 메지시 띄우기
                    alert("팬레터:"+txt);
                    // 2. 배경이미지 넣기
                    tg[4].style.background = 
                    "url(https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Gong_Yoo_%28Sep_2016%29.png/250px-Gong_Yoo_%28Sep_2016%29.png) repeat-x top/auto 100%";
                    // 3. 글자색
                    tg[4].style.color = "#fff";
                    // 4. 글자그림자
                    tg[4].style.textShadow = 
                    "0 0 5px #000";
                    // 5. 줄간격
                    tg[4].style.lineHeight = "30px";
                    // 6. 높이값 변경
                    tg[4].style.height = "100px"
                    // 7. 상단패딩 변경
                    tg[4].style.paddingTop = "100px";
                    // 8. 트랜지션
                    tg[4].style.transition = 
                    "2s ease-in-out .5s";

                } /////// msg 메서드 ////////

            }; /////// GU객체 ///////////////
            
            // GU객체 찍어보기-> 변경내용이 전체객체 찍기에 반영됨!
            console.log("GU객체:",GU);

            // GU객체 속성중 work 값 업데이트!
            GU.work = "도깨비,부산행,오징어게임";

            // 객체속성 추가하기 //////
            // 추가방법: Object객체의 속성 정의 메서드 사용함!
            // -> Object.defineProperty(객체명,속성명,{value:속성값})
            Object.defineProperty(GU,"foot",{value:"280cm"});
            // GU객체에 발사이즈인 foot속성과 값을 추가함!

            // 객체속성 지우기 //////
            // delete 객체명.속성명 -> 선택속성제거!
            // 추가속성말고 이미 처음에 있는 속성을 제거해 보자!
            // delete GU.work;


            // GU객체 출력하기 ////////
            // 출력대상: tg[4]

            // 줄간격 조정
            tg[4].style.lineHeight = "24px";
            
            // 내용출력
           tg[4].innerHTML = `
                저는 ${GU.name}입니다.
                몸무게는 비밀인데요 그래도 말씀드리자면
                ${GU.weight}입니다. ㅎㅎㅎ <br>
                제 대표작은 ${GU.work}입니다.<br>
                제 소속사는 모르시는 분들이 많은데
                ${GU.com}입니다. 빠이빠이~!
           `;

            // 툴팁 띄우기
            // setAttribute(속성명,값)
            tg[4].setAttribute("title", 
            GU.name+"의 팬레터를 확인하세요! 바로클릭!");
            
            // 손가락모양
            tg[4].style.cursor = "pointer";

            // 공유박스 클릭시 GU객체 메서드 호출하기
            tg[4].onclick = ()=>{
                GU.msg("\n공유오빠, 오징어게임 싸다고 멋쪘어요!\n차기작도 기대해요! 화이팅!!!");
                // \n은 alert창에서 줄바꿈해줌!
            }; //////////// click ////////////
            

            // 미션: tg[5]에 자신이 만든 객체의 정보를 출력하시오
            // 주제는 영화정보
            // 변수명도 자신이 지어본다!
            // 객체의 속성명도 변수형으로 자신이 지어본다!

            const myMV = {
                // 1. 영화제목
                제목: "탑건: 매버릭",
                // 2. 감독
                감독: "조셉 코신스키",
                // 3. 배우
                배우: "톰 크루즈, 마일즈 텔러",
                // 4. 장르
                장르: "액션",
                // 5. 관람가
                관람가: "12세 관람가",
                // 6. 예고편
                예고편: () => {
                    // 1. 호출확인
                    console.log("예고편");

                    // 2. 영화박스 만들고 iframe 넣기
                    // 대상: #mvbx
                    const mvbx = document.querySelector("#mvbx");

                    // 영화박스에 아이프레임용 박스넣기
                    mvbx.innerHTML = `
                        <div id="mv">
                            <!--유튜브 아이프레임-->
                            <iframe width="100%" height="100%" src="https://www.youtube.com/embed/Mrj9XACVJ8U?autoplay=1" allow="autoplay"></iframe>

                            <!--닫기버튼-->
                            <button class="cbtn">×</button>
                        </div>
                    `;

                    // 삽입된 동영상박스(#mv) CSS설정하기
                    const mv = document.querySelector("#mv");
                    let mst = mv.style;

                    mst.position = "fixed";
                    mst.top = "50%";
                    mst.left = "50%";
                    mst.transform = "translate(-50%,-50%)";
                    mst.width = "700px";
                    mst.height = "450px";
                    mst.backgroundColor = "#000";

                    // 닫기버튼 셋팅
                    const cbtn = document.querySelector(".cbtn");
                    let cst = cbtn.style;

                    cst.position = "absolute";
                    cst.top = "0";
                    cst.right = "-70px";
                    cst.width = "50px";
                    cst.height = "50px";
                    cst.backgroundColor = "blue";
                    cst.border = "none";
                    cst.color = "#fff";
                    cst.fontSize = "40px";
                    cst.fontWeight = "bold";
                    cst.borderRadius = "50%";
                    cst.cursor = "pointer";

                    // 닫기버튼 클릭시 #mv지우기
                    cbtn.onclick = () => mv.remove();
                    // ()=>{실행문}
                    // 실행문이 하나일때 중괄호 생략가능
                    // ()=>실행문;
                    // remove() 메서드는 선택요소를 제거함!


                } ///// 예고편 메서드 ////

            }; //////// myMV 객체 //////////

            // 줄간격 조정
            tg[5].style.lineHeight = "34px";

            // 내용 출력하기
            tg[5].innerHTML = `
                ♣ 영화명 : ${myMV["제목"]}
                ♣ 감독 : ${myMV.감독} <br>
                ♣ 배우 : ${myMV.배우}
                ♣ 장르 : ${myMV.장르}
                ♣ 등급 : ${myMV.관람가}
            `;

            // 툴팁 보이기
            tg[5].title =
                `클릭하시면 ${myMV.제목} 예고편을 보실 수 있습니다!`;

            // 손가락 모양
            tg[5].style.cursor = "pointer";

            // 예고편  메서드 호출
            tg[5].onclick = myMV.예고편;

            

        }; ////////////// loadFn 함수 //////////////////
        ////////////////////////////////////////////////

        /// 로딩후 로드함수 호출하기!!
        window.addEventListener("load", loadFn);


        /********************************************** 
            ※ 정리 :
            ________________________________

            배열값 설정
            const 변수명 = [값1,값2,...];
            _________________________________

            배열값 호출
            변수명[순번] -> 순번은 0부터
            _________________________________

            객체값 설정
            const 변수명 = {속성:값,속성:값,...}
            ___________________________________

            객체값 호출

            변수명[속성명]
            -> 속성명을 따옴표로 싼 문자형임
            (만약 변수형 속성명이어도 이렇게 부를땐
            따옴표로 반드시 싸야한다!)

            또는

            변수명.속성명
            -> 속성명이 반드시 변수형 이어야함!

        **********************************************/

    </script>
</head>

<body>
    <h1>JS4-1. 배열변수와 객체</h1>

    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>

    <!-- 예고편 동영상용 박스 -->
    <aside id="mvbx"></aside>

</body>

</html>